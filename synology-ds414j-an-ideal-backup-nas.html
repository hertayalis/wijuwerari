<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Single Client Performance - CIFS &amp;amp; NFS on Linux - GleamBlog</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="A CentOS 6.2 virtual machine was used to evaluate NFS and CIFS performance of the NAS when accessed from a Linux client. We chose IOZone as the benchmark for this case. In order to standardize the testing across multiple NAS units, we mount the CIFS and NFS shares during startup with the following /etc/fstab entries."><meta name=robots content="index,follow,noarchive"><meta property="og:title" content="Single Client Performance - CIFS &amp;amp; NFS on Linux"><meta property="og:description" content="A CentOS 6.2 virtual machine was used to evaluate NFS and CIFS performance of the NAS when accessed from a Linux client. We chose IOZone as the benchmark for this case. In order to standardize the testing across multiple NAS units, we mount the CIFS and NFS shares during startup with the following /etc/fstab entries."><meta property="og:type" content="article"><meta property="og:url" content="/synology-ds414j-an-ideal-backup-nas.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-06-03T00:00:00+00:00"><meta property="article:modified_time" content="2024-06-03T00:00:00+00:00"><meta itemprop=name content="Single Client Performance - CIFS &amp;amp; NFS on Linux"><meta itemprop=description content="A CentOS 6.2 virtual machine was used to evaluate NFS and CIFS performance of the NAS when accessed from a Linux client. We chose IOZone as the benchmark for this case. In order to standardize the testing across multiple NAS units, we mount the CIFS and NFS shares during startup with the following /etc/fstab entries."><meta itemprop=datePublished content="2024-06-03T00:00:00+00:00"><meta itemprop=dateModified content="2024-06-03T00:00:00+00:00"><meta itemprop=wordCount content="323"><meta itemprop=keywords content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/mainroad/css/style.css><link rel="shortcut icon" href=./favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=./index.html title=GleamBlog rel=home><div class="logo__item logo__text"><div class=logo__title>GleamBlog</div></div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Single Client Performance - CIFS &amp;amp; NFS on Linux</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2024-06-03T00:00:00Z>June 03, 2024</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=./categories/blog/ rel=category>blog</a></span></div></div></header><div class="content post__content clearfix"><img src=https://cdn.statically.io/img/images.anandtech.com/doci/8244/carousel_678x452.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto><p>A CentOS 6.2 virtual machine was used to evaluate NFS and CIFS performance of the NAS when accessed from a Linux client. We chose IOZone as the benchmark for this case. In order to standardize the testing across multiple NAS units, we mount the CIFS and NFS shares during startup with the following /etc/fstab entries.</p><p>//&lt;NAS_IP>/PATH_TO_SMB_SHARE /PATH_TO_LOCAL_MOUNT_FOLDER cifs rw,username=guest,password= 0 0</p><p>&lt;NAS_IP>:/PATH_TO_NFS_SHARE /PATH_TO_LOCAL_MOUNT_FOLDER nfs rw,relatime,vers=3,rsize=32768,wsize=32768,namlen=255,hard,proto=tcp,timeo=600,retrans=2, sec=sys,mountaddr &lt;NAS_IP>,mountvers=3,mountproto=udp,local_lock=none,addr=&lt;NAS_IP> 0 0</p><p>The following IOZone command was used to benchmark the CIFS share:</p><p>IOZone -aczR -g 2097152 -U /PATH_TO_LOCAL_CIFS_MOUNT -f /PATH_TO_LOCAL_CIFS_MOUNT/testfile -b &lt;NAS_NAME>_CIFS_EXCEL_BIN.xls > &lt;NAS_NAME>_CIFS_CSV.csv</p><p>IOZone provides benchmark numbers for a multitude of access scenarios with varying file sizes and record lengths. Some of these are very susceptible to caching effects on the client side. This is evident in some of the graphs in the gallery below.</p><p>Readers interested in the hard numbers can refer to the CSV program output <a href=#>here</a>. These numbers will gain relevance as we benchmark more NAS units with similar configuration.</p><p>The NFS share was also benchmarked in a similar manner with the following command:</p><p>IOZone -aczR -g 2097152 -U /nfs_test_mount/ -f /nfs_test_mount/testfile -b &lt;NAS_NAME>_NFS_EXCEL_BIN.xls > &lt;NAS_NAME>_NFS_CSV.csv</p><p>The IOZone CSV output can be found <a href=#>here</a> for those interested in the exact numbers.</p><p>A summary of the bandwidth numbers for various tests averaged across all file and record sizes is provided in the table below. As noted previously, some of these numbers are skewed by caching effects. A reference to the actual CSV outputs linked above make the entries affected by this effect obvious.</p><table align=center border=0 cellpadding=0 cellspacing=1 width=90%><tbody readability=2><tr readability=2><td align=center class=contentwhite colspan=3>Synology DS414j - Linux Client Performance (MBps)</td></tr><tr class=tlblue><td>IOZone Test</td><td>CIFS</td><td>NFS</td></tr><tr><td class=tlgrey>Init Write</td><td>57</td><td>34</td></tr><tr><td class=tlgrey>Re-Write</td><td>56</td><td>36</td></tr><tr><td class=tlgrey>Read</td><td>20</td><td>91</td></tr><tr><td class=tlgrey>Re-Read</td><td>20</td><td>91</td></tr><tr><td class=tlgrey>Random Read</td><td>11</td><td>34</td></tr><tr><td class=tlgrey>Random Write</td><td>47</td><td>35</td></tr><tr><td class=tlgrey>Backward Read</td><td>11</td><td>28</td></tr><tr><td class=tlgrey>Record Re-Write</td><td>33</td><td>885*</td></tr><tr><td class=tlgrey>Stride Read</td><td>19</td><td>68</td></tr><tr><td class=tlgrey>File Write</td><td>59</td><td>38</td></tr><tr><td class=tlgrey>File Re-Write</td><td>56</td><td>37</td></tr><tr><td class=tlgrey>File Read</td><td>14</td><td>64</td></tr><tr><td class=tlgrey>File Re-Read</td><td>14</td><td>65</td></tr><tr readability=2><td class=tlgrey colspan=3>*: Number skewed due to caching effect</td></tr></tbody></table><p>&nbsp;</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIVzgJNoqrKmn6G8qMWMnaptaWSfeqK6jKKbnpmcYq%2Bir8qup2amkah8dg%3D%3D</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=./sony-to-start-selling-playstation-vr-in-october-for-399.html rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Sony to Start Selling PlayStation VR in October for $399</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=./robbie-robertson-religion-jewish-ethnicity-family.html rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Robbie Robertson Religion: Jewish Ethnicity And Family</p></a></div></nav></div><aside class=sidebar><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./elias-phoenix-net-worth-142008.html>Elias Phoenix Net Worth</a></li><li class=widget__item><a class=widget__link href=./gonzalo-lira-net-worth-income-salary-earnings-biography-how-much-money-make-html.html>Gonzalo Lira Net Worth, Income, Salary, Earnings, Biography, How much money make?</a></li><li class=widget__item><a class=widget__link href=./show.html>Rambus DRAM Part 2: Performance</a></li><li class=widget__item><a class=widget__link href=./emily-ratajkowski-sheer-slip-dress-cowboy-boots.html>See Emily Ratajkowski Step Out in a Sheer Slipdress and Cowboy Boots</a></li><li class=widget__item><a class=widget__link href=./this-city-has-been-named-the-murder-capital-of-missouri.html>This City Has Been Named the Murder Capital of Missouri</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./categories/blog/>blog</a></li></ul></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 GleamBlog.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=https://assets.cdnweb.info/hugo/mainroad/js/menu.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>